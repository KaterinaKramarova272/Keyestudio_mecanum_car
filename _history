{"entries":[{"timestamp":1749813400349,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"\n"],[-1,"//Výběr módu\nmecanumRobot.setServo(90)\nbasic.showString(\"mode?\")\n\ninput.onButtonPressed(Button.A, function () {\n    samojezditko()\n})\ninput.onButtonPressed(Button.B, function () {\n    nasledovani()\n})\ninput.onButtonPressed(Button.AB, function () {\n    linka()\n})\ninput.onLogoEvent(TouchButtonEvent.Pressed, function () {\n    ovladac()\n})\n//Funkce směru jízdy\nfunction dopredu() {\n    mecanumRobot.Motor(LR.Upper_left, MD.Back, 45)\n    mecanumRobot.Motor(LR.Upper_right, MD.Forward, 55)\n    mecanumRobot.Motor(LR.Lower_left, MD.Forward, 45)\n    mecanumRobot.Motor(LR.Lower_right, MD.Back, 55)\n}\nfunction doleva() {\n    mecanumRobot.Motor(LR.Upper_left, MD.Forward, 45)\n    mecanumRobot.Motor(LR.Upper_right, MD.Forward, 55)\n    mecanumRobot.Motor(LR.Lower_left, MD.Back, 45)\n    mecanumRobot.Motor(LR.Lower_right, MD.Back, 55)\n}\nfunction doprava() {\n    mecanumRobot.Motor(LR.Upper_left, MD.Back, 45)\n    mecanumRobot.Motor(LR.Upper_right, MD.Back, 55)\n    mecanumRobot.Motor(LR.Lower_left, MD.Forward, 45)\n    mecanumRobot.Motor(LR.Lower_right, MD.Forward, 55)\n}\nfunction dozadu() {\n    mecanumRobot.Motor(LR.Upper_left, MD.Forward, 45)\n    mecanumRobot.Motor(LR.Upper_right, MD.Back, 55)\n    mecanumRobot.Motor(LR.Lower_left, MD.Back, 45)\n    mecanumRobot.Motor(LR.Lower_right, MD.Forward, 55)\n}\n//funkce samotného ježdění\nfunction samojezditko() {\n    let vzdalenost = 0\n    let vzdalenostl = 0\n    let vzdalenostp = 0\n\n    basic.showString(\"mode1\")\n    basic.pause(1000)\n\n    basic.forever(function () {\n        vzdalenost = mecanumRobot.ultra()\n        if (vzdalenost < 30) {\n            mecanumRobot.state(MotorState.stop)\n            basic.pause(1000)\n            mecanumRobot.setServo(0)\n            basic.pause(1000)\n            vzdalenostp = mecanumRobot.ultra()\n            mecanumRobot.setServo(180)\n            basic.pause(1000)\n            vzdalenostl = mecanumRobot.ultra()\n            if (vzdalenostl < vzdalenostp) {\n                doprava()\n                mecanumRobot.setServo(90)\n                basic.pause(400)\n            }\n            else {\n                doleva()\n                mecanumRobot.setServo(90)\n                basic.pause(400)\n            }\n\n        }\n        else {\n            dopredu()\n        }\n    })\n\n}\n//funkce nasledování objektu\nfunction nasledovani() {\n    basic.showString(\"mode2\")\n    basic.pause(1000)\n\n    basic.forever(function () {\n        let vzdalenost = 0\n\n        vzdalenost = mecanumRobot.ultra()\n        if (vzdalenost < 20) {\n            dozadu()\n        }\n        if (vzdalenost < 30) {\n            mecanumRobot.state(MotorState.stop)\n        }\n        if (vzdalenost < 50) {\n            dopredu()\n        }\n        else {\n            mecanumRobot.state(MotorState.stop)\n        }\n\n    })\n\n}\n//funkce ježdění podle čáry\nfunction linka() {\n    basic.showString(\"mode3\")\n    basic.pause(1000)\n\n    basic.forever(function () {\n        let linetrack = 0\n        if (mecanumRobot.LineTracking(LT.Left) == 0 && mecanumRobot.LineTracking(LT.Right) == 1) {\n            doprava()\n        }\n        else if (mecanumRobot.LineTracking(LT.Left) == 1 && mecanumRobot.LineTracking(LT.Right) == 0) {\n            doleva()\n        }\n        else if (mecanumRobot.LineTracking(LT.Left) == 1 && mecanumRobot.LineTracking(LT.Right) == 1) {\n            dopredu()\n        }\n        else {\n            mecanumRobot.state(MotorState.stop)\n        }\n    })\n}\n//funkce spojení vozidla s mobilovou aplikací a následné řízení \nfunction ovladac() {\n    let buttons = \"\"\n    let pripojeni: boolean = false\n\n    basic.showString(\"mode4\")\n    basic.pause(1000)\n    bluetooth.startUartService()\n\n    bluetooth.onBluetoothConnected(function () {\n        basic.showString(\"connected\")\n        pripojeni = true\n        while (pripojeni = true) {\n            bluetooth.uartReadUntil(serial.delimiters(Delimiters.Hash))\n\n        }\n    })\n\n    bluetooth.onBluetoothDisconnected(function () {\n        basic.showString(\"disconnected\")\n        pripojeni = false\n    })\n\n}"]],"start1":0,"start2":0,"length1":3994,"length2":1}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"   \""],[-1,"microphone"],[1,"radio"],[0,"\": \""]],"start1":98,"start2":98,"length1":18,"length2":13},{"diffs":[[0,"   \""],[-1,"bluetooth\": \"*\",\n        \"pxt-mecanum-robot\": \"github:keyestudio2019/mecanum_robot#v1.1.3"],[1,"microphone\": \"*"],[0,"\"\n  "]],"start1":120,"start2":120,"length1":97,"length2":23},{"diffs":[[0," ],\n"],[-1,"    \"testFiles\": [\n        \"test.ts\"\n    ],\n"],[0,"    "]],"start1":205,"start2":205,"length1":52,"length2":8},{"diffs":[[0,"   \""],[-1,"yotta\": {\n        \"config\": {\n            \"microbit-dal\": {\n                \"bluetooth\": {\n                    \"open\": 1,\n                    \"whitelist\": 0,\n                    \"security_level\": null\n                }\n            }\n        }\n    }"],[1,"additionalFilePaths\": []"],[0,"\n}\n"]],"start1":288,"start2":288,"length1":255,"length2":31}]},{"type":"added","filename":"test.ts","value":"// tests go here; this will not be compiled when this package is used as an extension.\n"},{"type":"added","filename":"main.blocks","value":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>"}]}],"snapshots":[{"timestamp":1749813400348,"editorVersion":"7.0.61","text":{"main.ts":"\n","README.md":"","pxt.json":"{\n    \"name\": \"bluetooth\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"preferredEditor\": \"tsprj\",\n    \"languageRestriction\": \"javascript-only\",\n    \"additionalFilePaths\": []\n}\n"}}],"shares":[],"lastSaveTime":1749813633097}